<?xml version="1.0" encoding="utf-8"?>
<odoo>
    <data noupdate="1">
        <!-- Purchase Order Approval Flow -->
        <record id="approval_flow_purchase_order" model="ipai.approval.flow">
            <field name="name">Purchase Order Approval (>100K)</field>
            <field name="model_id" ref="purchase.model_purchase_order"/>
            <field name="description">Approval workflow for purchase orders exceeding 100,000</field>
            <field name="parallel_execution" eval="False"/>
            <field name="auto_escalate" eval="True"/>
            <field name="default_timeout_hours">48</field>
            <field name="active" eval="True"/>
        </record>

        <record id="approval_stage_po_manager" model="ipai.approval.stage">
            <field name="flow_id" ref="approval_flow_purchase_order"/>
            <field name="name">Procurement Manager Approval</field>
            <field name="sequence">10</field>
            <field name="approver_group_ids" eval="[(4, ref('purchase.group_purchase_manager'))]"/>
            <field name="timeout_hours">24</field>
            <field name="escalation_action">notify</field>
        </record>

        <record id="approval_stage_po_finance" model="ipai.approval.stage">
            <field name="flow_id" ref="approval_flow_purchase_order"/>
            <field name="name">Finance Director Approval</field>
            <field name="sequence">20</field>
            <field name="approver_group_ids" eval="[(4, ref('account.group_account_manager'))]"/>
            <field name="timeout_hours">24</field>
            <field name="escalation_action">notify</field>
        </record>

        <!-- Expense Sheet Approval Flow -->
        <record id="approval_flow_expense_sheet" model="ipai.approval.flow">
            <field name="name">Expense Sheet Approval (>10K)</field>
            <field name="model_id" ref="hr_expense.model_hr_expense_sheet"/>
            <field name="description">Approval workflow for expense sheets exceeding 10,000</field>
            <field name="parallel_execution" eval="False"/>
            <field name="auto_escalate" eval="True"/>
            <field name="default_timeout_hours">24</field>
            <field name="active" eval="True"/>
        </record>

        <record id="approval_stage_expense_manager" model="ipai.approval.stage">
            <field name="flow_id" ref="approval_flow_expense_sheet"/>
            <field name="name">Department Manager Approval</field>
            <field name="sequence">10</field>
            <field name="approver_group_ids" eval="[(4, ref('hr_expense.group_hr_expense_team_approver'))]"/>
            <field name="timeout_hours">24</field>
            <field name="escalation_action">notify</field>
        </record>

        <!-- Invoice Approval Flow -->
        <record id="approval_flow_invoice" model="ipai.approval.flow">
            <field name="name">Vendor Bill Approval (>50K)</field>
            <field name="model_id" ref="account.model_account_move"/>
            <field name="description">Approval workflow for vendor bills exceeding 50,000</field>
            <field name="parallel_execution" eval="False"/>
            <field name="auto_escalate" eval="True"/>
            <field name="default_timeout_hours">48</field>
            <field name="active" eval="True"/>
        </record>

        <record id="approval_stage_invoice_manager" model="ipai.approval.stage">
            <field name="flow_id" ref="approval_flow_invoice"/>
            <field name="name">Accounting Manager Approval</field>
            <field name="sequence">10</field>
            <field name="approver_group_ids" eval="[(4, ref('account.group_account_manager'))]"/>
            <field name="timeout_hours">24</field>
            <field name="escalation_action">notify</field>
        </record>

        <record id="approval_stage_invoice_finance" model="ipai.approval.stage">
            <field name="flow_id" ref="approval_flow_invoice"/>
            <field name="name">Finance Director Approval</field>
            <field name="sequence">20</field>
            <field name="approver_group_ids" eval="[(4, ref('account.group_account_manager'))]"/>
            <field name="timeout_hours">24</field>
            <field name="escalation_action">notify</field>
        </record>

    </data>
</odoo>
