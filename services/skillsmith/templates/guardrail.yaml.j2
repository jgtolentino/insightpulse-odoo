# Auto-generated Guardrail Skill
# Generated by Skillsmith on {{ generated_at }}
id: {{ id }}
name: "{{ title }}"
kind: guardrail
status: proposed
priority: medium

# Pattern matching
match:
  component: "{{ component }}"
  message_regex: "{{ pattern | replace('"', '\\"') }}"
  fingerprint: "{{ fingerprint }}"

# Action when matched
action:
  type: "block"
  message: "Prevented: {{ title }} (auto-generated guardrail)"
  suggest_fix: true
  documentation: |
    This error was detected {{ hits_7d }} times in the last 7 days.
    Total occurrences in 30d: {{ hits_30d }}
    Impact score: {{ impact_score }}

# Evaluation criteria
evaluation:
  tests:
    - name: "signature repeats less than baseline after 7d"
      metric: "hits_7d_delta"
      target: "<= -50%"
    - name: "no false positives in CI"
      metric: "false_positive_rate"
      target: "< 0.05"

# Metadata
metadata:
  hits_7d: {{ hits_7d }}
  hits_30d: {{ hits_30d }}
  impact_score: {{ impact_score }}
  fingerprint: "{{ fingerprint }}"
  generated_at: "{{ generated_at }}"
  auto_generated: true

owners:
  - "platform@insightpulseai.net"

notes: |
  Auto-generated by Skillsmith error mining system.
  Review and approve by moving to skills/ directory with status: approved
