# Auto-generated Fixer Skill
# Generated by Skillsmith on {{ generated_at }}
id: {{ id }}
name: "{{ title }}"
kind: fixer
status: proposed
priority: medium

# Pattern matching
match:
  component: "{{ component }}"
  message_regex: "{{ pattern | replace('"', '\\"') }}"
  fingerprint: "{{ fingerprint }}"

# Auto-patch action
action:
  type: "autopatch"
  script: "autopatches/{{ id | lower }}.py"
  dry_run: true
  safe_mode: true
  rollback_on_failure: true
  description: |
    Automatically applies fix for: {{ title }}
    This error was detected {{ hits_7d }} times in the last 7 days.

# Evaluation criteria
evaluation:
  tests:
    - name: "apply-patch in sandbox passes unit tests"
      metric: "ci_green"
      target: "== true"
    - name: "error signature eliminated after patch"
      metric: "hits_7d_delta"
      target: "<= -90%"
    - name: "no new errors introduced"
      metric: "new_error_count"
      target: "== 0"

# Metadata
metadata:
  hits_7d: {{ hits_7d }}
  hits_30d: {{ hits_30d }}
  impact_score: {{ impact_score }}
  fingerprint: "{{ fingerprint }}"
  generated_at: "{{ generated_at }}"
  auto_generated: true

owners:
  - "platform@insightpulseai.net"

notes: |
  Auto-generated by Skillsmith error mining system.

  TODO: Implement autopatch script at autopatches/{{ id | lower }}.py

  Review and approve by:
  1. Creating the autopatch script
  2. Testing in sandbox environment
  3. Moving to skills/ directory with status: approved
  4. Setting dry_run: false after validation
