{"question": "Total expenses by agency", "sql": "SELECT agency_id, SUM(amount_total) AS total_expenses FROM accounting_entries GROUP BY agency_id ORDER BY total_expenses DESC"}
{"question": "Show me total expenses by agency for Q4 2024", "sql": "SELECT agency_id, SUM(amount_total) AS total_expenses FROM accounting_entries WHERE date >= '2024-10-01' AND date < '2025-01-01' GROUP BY agency_id ORDER BY total_expenses DESC"}
{"question": "What's our total withholding tax liability this month?", "sql": "SELECT SUM(tax_withheld) AS total_tax_withheld FROM bir_2307 WHERE period_from >= DATE_TRUNC('month', CURRENT_DATE)"}
{"question": "Show me top 10 vendors by withholding tax amount", "sql": "SELECT payee_tin, SUM(tax_withheld) AS total_tax FROM bir_2307 GROUP BY payee_tin ORDER BY total_tax DESC LIMIT 10"}
{"question": "Compare procurement spending across RIM, CKVC, and BOM", "sql": "SELECT a.name AS agency, SUM(ae.amount_total) AS total_spending FROM accounting_entries ae JOIN agencies a ON ae.agency_id = a.id WHERE a.code IN ('RIM', 'CKVC', 'BOM') GROUP BY a.name ORDER BY total_spending DESC"}
{"question": "Monthly withholding tax trends for the past 6 months", "sql": "SELECT DATE_TRUNC('month', period_from) AS month, SUM(tax_withheld) AS total_tax FROM bir_2307 WHERE period_from >= CURRENT_DATE - INTERVAL '6 months' GROUP BY month ORDER BY month"}
{"question": "Top 10 vendors by payment amount", "sql": "SELECT payee_name, SUM(income_payment) AS total_payments FROM bir_2307 GROUP BY payee_name ORDER BY total_payments DESC LIMIT 10"}
{"question": "Effective withholding rate by vendor", "sql": "SELECT payee_name, SUM(tax_withheld) / NULLIF(SUM(income_payment), 0) * 100 AS effective_rate FROM bir_2307 GROUP BY payee_name HAVING SUM(income_payment) > 0 ORDER BY effective_rate DESC"}
{"question": "Unreconciled journal entries for this month", "sql": "SELECT id, name, date, amount_total FROM accounting_entries WHERE state = 'draft' AND date >= DATE_TRUNC('month', CURRENT_DATE) ORDER BY date DESC"}
{"question": "Total revenue vs budget by department", "sql": "SELECT department, SUM(actual_revenue) AS actual, SUM(budgeted_revenue) AS budget, SUM(actual_revenue) - SUM(budgeted_revenue) AS variance FROM revenue_by_department GROUP BY department ORDER BY variance DESC"}
{"question": "Cash flow forecast for next quarter", "sql": "SELECT DATE_TRUNC('month', date) AS month, SUM(CASE WHEN type = 'inflow' THEN amount ELSE -amount END) AS net_cash_flow FROM cash_flow WHERE date >= CURRENT_DATE AND date < CURRENT_DATE + INTERVAL '3 months' GROUP BY month ORDER BY month"}
{"question": "Aged receivables breakdown", "sql": "SELECT CASE WHEN days_overdue <= 30 THEN '0-30 days' WHEN days_overdue <= 60 THEN '31-60 days' WHEN days_overdue <= 90 THEN '61-90 days' ELSE '90+ days' END AS aging_bucket, SUM(amount_due) AS total_due FROM receivables WHERE status = 'unpaid' GROUP BY aging_bucket ORDER BY MIN(days_overdue)"}
{"question": "Operating expenses by department for 2024", "sql": "SELECT department, SUM(amount) AS total_expenses FROM expenses WHERE EXTRACT(YEAR FROM date) = 2024 GROUP BY department ORDER BY total_expenses DESC"}
{"question": "BIR 2307 certificates issued this quarter", "sql": "SELECT COUNT(*) AS certificate_count, SUM(tax_withheld) AS total_tax FROM bir_2307 WHERE period_from >= DATE_TRUNC('quarter', CURRENT_DATE)"}
{"question": "Average journal entry amount by journal type", "sql": "SELECT j.name AS journal, AVG(ae.amount_total) AS avg_amount FROM accounting_entries ae JOIN account_journal j ON ae.journal_id = j.id GROUP BY j.name ORDER BY avg_amount DESC"}
{"question": "Year-over-year revenue growth", "sql": "SELECT EXTRACT(YEAR FROM date) AS year, SUM(amount) AS revenue, LAG(SUM(amount)) OVER (ORDER BY EXTRACT(YEAR FROM date)) AS prev_year_revenue, (SUM(amount) - LAG(SUM(amount)) OVER (ORDER BY EXTRACT(YEAR FROM date))) / NULLIF(LAG(SUM(amount)) OVER (ORDER BY EXTRACT(YEAR FROM date)), 0) * 100 AS growth_rate FROM revenue GROUP BY year ORDER BY year"}
{"question": "Budget variance by cost center", "sql": "SELECT cost_center, SUM(actual_amount) AS actual, SUM(budgeted_amount) AS budget, SUM(actual_amount) - SUM(budgeted_amount) AS variance, (SUM(actual_amount) - SUM(budgeted_amount)) / NULLIF(SUM(budgeted_amount), 0) * 100 AS variance_pct FROM budget_tracking GROUP BY cost_center ORDER BY variance_pct DESC"}
{"question": "Top 5 expenses categories this year", "sql": "SELECT category, SUM(amount) AS total FROM expenses WHERE EXTRACT(YEAR FROM date) = EXTRACT(YEAR FROM CURRENT_DATE) GROUP BY category ORDER BY total DESC LIMIT 5"}
{"question": "Monthly recurring revenue", "sql": "SELECT DATE_TRUNC('month', date) AS month, SUM(amount) AS mrr FROM recurring_revenue WHERE date >= CURRENT_DATE - INTERVAL '12 months' GROUP BY month ORDER BY month"}
{"question": "Customer acquisition cost by channel", "sql": "SELECT channel, SUM(marketing_spend) / NULLIF(COUNT(DISTINCT customer_id), 0) AS cac FROM customer_acquisition GROUP BY channel ORDER BY cac"}
