<t t-name="knowledge_notion_clone.App">
  <div class="o_kn_app">
    <div class="o_kn_sidebar">
      <input t-on-input="onSearch" placeholder="Search pages"/>
      <ul>
        <t t-foreach="state.pages" t-as="p" t-key="p.id">
          <li t-on-click="() => loadPage(p.id)"><t t-esc="p.icon or 'ðŸ“„'"/> <t t-esc="p.name"/></li>
        </t>
      </ul>
      <button t-on-click="newPage">New Page</button>
    </div>
    <div class="o_kn_editor">
      <h2><t t-esc="state.page.name"/></h2>
      <div>
        <t t-foreach="state.blocks" t-as="b" t-key="b.id">
          <t t-if="b.type === 'h1'"><h1 t-esc="b.text"/></t>
          <t t-elif="b.type === 'h2'"><h3 t-esc="b.text"/></t>
          <t t-elif="b.type === 'todo'">
            <label><input type="checkbox" t-att-checked="b.checked" t-on-change="(ev)=>toggleTodo(b,ev)"/> <t t-esc="b.text"/></label>
          </t>
          <t t-elif="b.type === 'divider'"><hr/></t>
          <t t-else=""><p t-esc="b.text"/></t>
        </t>
      </div>
      <div class="o_kn_blockbar">
        <button t-on-click="()=>addBlock('text')">Text</button>
        <button t-on-click="()=>addBlock('h1')">H1</button>
        <button t-on-click="()=>addBlock('todo')">Toâ€‘Do</button>
        <button t-on-click="()=>addBlock('divider')">Divider</button>
      </div>
    </div>
  </div>
</t>
